

### 提升QPS

#### 提供并发数

- 估算线程数

线程数 = cpu 可用核数 / 1 - 阻塞系数 

阻塞系数没有定性的值，只有定量的分析 （ io密集型接近1，计算密集型接近0 ）

io比较多，线程数设置多一点 ， 计算密集型线程数设置少一点

- 配置连接数上限

redis tomcat mysql

- 服务无状态

便于系统 横向扩张 （ 加机器 ）

- 服务能力对等

例如：eureka 集群配置时 打乱url顺序。

eureka默认在第一个url注册中心拉取

#### 减少响应时间

- 异步 （ 最终一致性 ，不需要即时）

流量削峰

- 缓存 （ 减少db 磁盘IO ）

- 数据库优化

- 数据量大的 ，分批返回

- 减少网络间调用链 （ 服务间调用 ）